{% extends 'base.html' %}

{% block title %}Master Samples{% endblock %}

{% block content %}
<h2>Master Samples</h2>

<a href="{% url 'master_sample_create' %}" class="btn" style="margin-bottom: 20px;">Upload New Master Sample</a>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    {% for sample in samples %}
    <div class="card">
        <h3>{{ sample.sample_number }}</h3>
        <p><strong>Mould:</strong> {{ sample.mould }}</p>
        {% if sample.image %}
        <img src="{{ sample.image.url }}" alt="{{ sample.sample_number }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 5px; margin: 10px 0;">
        {% endif %}
        <p>{{ sample.description|truncatewords:20 }}</p>
        <p><small>Created by {{ sample.created_by.username }} on {{ sample.created_at|date:"Y-m-d" }}</small></p>
    </div>
    {% empty %}
    <p>No master samples uploaded</p>
    {% endfor %}
</div>
{% endblock %}
